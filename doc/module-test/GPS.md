# GPS 模块测试

## 硬件

经测试可以使用 5 V 供电，文档上说也可以用 3.3 V 供电。

## 命令格式

### NMEA-0183 协议

NMEA-0183 用于接收定位信息。一帧的格式形如：

```
$aaccc,ddd,ddd,...,ddd*hh\r\n
```

- `aaccc`：地址域。`aa` 为识别符，`ccc` 为语句名。

  默认每秒会收到：

  ```
  $GPRMC // 推荐定位信息，最长 70。
  $GPVTG // 地面速度信息，最长 34。
  $GPGGA // GPS 定位信息，最长 72。
  $GPGSA // 当前卫星信息，最长 65。
  $GPGSV // 可见卫星信息，最长 210。
  $GPGLL // 大地坐标信息。
  ```

- `ddd,...,ddd`：数据。

- `*`：校验和前缀，或者说数据结束后缀。

- `hh`：校验和。`$` 与 `*` 之间所有字符 ASCII 码的异或和，用十六进制表示。

样例数据（未定位成功）：

```
$GPRMC,020114.00,V,,,,,,,050522,,,N*7B
$GPVTG,,,,,,,,,N*30
$GPGGA,020114.00,,,,,0,00,99.99,,,,,,*60
$GPGSA,A,1,,,,,,,,,,,,,99.99,99.99,99.99*30
$GPGSV,1,1,01,21,,,20*79
$GPGLL,,,,,020114.00,V,N*4C
```

样例数据（定位成功）：

```
$GPRMC,020529.00,A,3959.16492,N,11618.20532,E,3.710,,050522,,,A*7E
$GPVTG,,T,,M,3.710,N,6.870,K,A*2F
$GPGGA,020529.00,3959.16492,N,11618.20532,E,1,03,4.59,-1.2,M,-8.8,M,,*6F
$GPGSA,A,2,21,09,01,,,,,,,,,,4.70,4.59,1.00*02
$GPGSV,3,1,11,01,12,177,21,04,10,200,09,07,53,303,,08,86,326,*75
$GPGSV,3,2,11,09,21,232,24,14,02,281,,16,27,081,11,21,38,154,31*7A
$GPGSV,3,3,11,26,03,097,,27,48,046,,30,27,312,*4D
$GPGLL,3959.16492,N,11618.20532,E,020529.00,A,A*62
```

文档中有详细解释，此处不写具体介绍了。